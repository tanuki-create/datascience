# 高度なグラフアルゴリズム (Advanced Graph Algorithms)

## 概要

高度なグラフアルゴリズムは、グラフ構造を効率的に処理するためのアルゴリズムです。トポロジカルソート、最短経路アルゴリズム（Dijkstra、Bellman-Ford）、最小全域木（Kruskal、Prim）など、多くの実用的な問題で使用されます。ネットワークルーティング、スケジューリング、最適化問題などで広く応用されています。

## 基本概念

### 主要なアルゴリズム

1. **トポロジカルソート**: 有向非巡回グラフ（DAG）のノードを順序付け
2. **Dijkstra**: 非負の重みを持つグラフの最短経路
3. **Bellman-Ford**: 負の重みも扱える最短経路
4. **Kruskal**: 最小全域木（MST）の構築
5. **Prim**: 最小全域木（MST）の構築

### 主な操作と計算量

| アルゴリズム | 時間計算量 | 空間計算量 | 適用場面 |
|------------|-----------|-----------|---------|
| トポロジカルソート | O(V + E) | O(V) | DAGの順序付け |
| Dijkstra | O((V + E) log V) | O(V) | 非負重みの最短経路 |
| Bellman-Ford | O(V × E) | O(V) | 負重みの最短経路 |
| Kruskal | O(E log E) | O(V) | MSTの構築 |
| Prim | O((V + E) log V) | O(V) | MSTの構築 |

**注意**: Vは頂点数、Eは辺数です。

## いつ使うべきか

高度なグラフアルゴリズムは以下のような場面で威力を発揮します：

### 1. 依存関係の解決
- タスクの実行順序
- パッケージの依存関係
- コンパイル順序

### 2. 最短経路問題
- 地図アプリケーション
- ネットワークルーティング
- ゲームのパスファインディング

### 3. 最小全域木
- ネットワーク設計
- クラスタリング
- 画像処理

### 4. スケジューリング
- タスクのスケジューリング
- リソースの割り当て
- プロジェクト管理

## 現実世界での応用例

### 1. コンパイラの依存関係解決
- **例**: プログラミング言語のコンパイラで、モジュールのコンパイル順序を決定
- **実装**: トポロジカルソートで依存関係を解決
- **メリット**: 効率的なコンパイル

### 2. 地図アプリケーション
- **例**: Google Mapsで、最短経路を計算
- **実装**: Dijkstraアルゴリズムで最短経路を計算
- **メリット**: 効率的なルート検索

### 3. ネットワーク設計
- **例**: データセンターのネットワーク設計
- **実装**: 最小全域木で最適な接続を構築
- **メリット**: コスト効率的なネットワーク

### 4. パッケージマネージャー
- **例**: npm、pipなどのパッケージマネージャー
- **実装**: トポロジカルソートで依存関係を解決
- **メリット**: 効率的なパッケージインストール

### 5. ゲーム開発
- **例**: ゲームのAIで、最短経路を計算
- **実装**: A*アルゴリズム（Dijkstraの拡張）でパスファインディング
- **メリット**: 効率的なAIの移動

### 6. 物流システム
- **例**: 配送ルートの最適化
- **実装**: 最短経路アルゴリズムで最適なルートを計算
- **メリット**: コストの削減

## 実装時の注意点

### 1. グラフの表現
- **問題**: グラフをどのように表現するか（隣接リスト vs 隣接行列）
- **解決策**: 通常は隣接リストが効率的
- **実装**: `graph = defaultdict(list)`で表現
- **注意**: スパースグラフでは隣接リストが有利

### 2. 優先度付きキュー
- **問題**: DijkstraやPrimで優先度付きキューが必要
- **解決策**: `heapq`モジュールを使用
- **実装**: `heapq.heappush(heap, (distance, node))`
- **注意**: 距離を最初の要素にすることで、最小値が先頭に来る

### 3. 負の重みの扱い
- **問題**: 負の重みがある場合、Dijkstraは使用できない
- **解決策**: Bellman-Fordを使用
- **実装**: 負のサイクルを検出する必要がある
- **注意**: 負のサイクルがある場合、最短経路は存在しない

### 4. サイクルの検出
- **問題**: トポロジカルソートでサイクルを検出
- **解決策**: DFSでサイクルを検出
- **実装**: 訪問済み、処理中、完了の3つの状態を管理
- **注意**: サイクルがある場合、トポロジカルソートは不可能

## 関連するLeetCode/AtCoder問題

### Medium
- [Topological Sort](./topological_sort_logic.md) - 依存関係の解決
- [Course Schedule](./course_schedule_logic.md) - トポロジカルソートの応用
- [Dijkstra Shortest Path](./dijkstra_shortest_path_logic.md) - 最短経路

### Hard
- [Bellman-Ford](./bellman_ford_logic.md) - 負重みの最短経路
- [Kruskal MST](./kruskal_mst_logic.md) - 最小全域木

## 学習の進め方

1. **Topological Sort**から始める: 依存関係の解決の基本
2. **Dijkstra**で最短経路を学ぶ: 非負重みの最短経路
3. **Kruskal**で最小全域木を学ぶ: MSTの構築
4. **より複雑な問題**に挑戦: 他のテクニックと組み合わせた使用法を学ぶ

## 次のステップ

- [Topological Sort のロジック解説](./topological_sort_logic.md)
- [Dijkstra Shortest Path のロジック解説](./dijkstra_shortest_path_logic.md)
- [グラフアルゴリズムテクニック](../10_graph_algorithms/README.md) - 基本のグラフアルゴリズム

---

**重要**: 高度なグラフアルゴリズムは、多くの実用的な問題の基礎となります。各アルゴリズムの動作原理と適用場面を理解することが重要です。

