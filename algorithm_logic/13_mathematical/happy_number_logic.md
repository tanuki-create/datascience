# Happy Number - ロジック解説

## 問題概要

整数`n`が与えられたとき、ハッピー数かどうかを判定する。ハッピー数は、各桁の平方和を繰り返し計算して1になる数。

**例**:
```
Input: n = 19
Output: true
説明: 1² + 9² = 82 → 8² + 2² = 68 → 6² + 8² = 100 → 1² + 0² + 0² = 1
```

## ロジックの核心

### なぜハッシュセットが有効か？

**無限ループの検出**:
- サイクルが発生した場合、ハッピー数ではない
- 時間計算量: O(log n) - 各ステップで桁数が減少

**ハッシュセットを使う理由**:
- **サイクルの検出**: 訪問済みの数を記録
- **時間計算量**: O(log n) - 各ステップで桁数が減少
- **空間計算量**: O(log n) - 訪問済みの数のセット

### アルゴリズムのステップ

```
function isHappy(n):
    seen = set()
    
    while n != 1 and n not in seen:
        seen.add(n)
        n = sum(int(d)**2 for d in str(n))
    
    return n == 1
```

## 現実世界での応用

### 1. 数値解析
- **シナリオ**: 数値解析で、数の性質を分析
- **実装**: ハッピー数で数の性質を分析
- **メリット**: 効率的な数値解析

### 2. ゲーム開発
- **シナリオ**: ゲームで、数の性質を利用
- **実装**: ハッピー数で数の性質を利用
- **メリット**: 効率的なゲーム処理

## 注意点と落とし穴

### 1. サイクルの検出
- **問題**: サイクルが発生した場合、ハッピー数ではない
- **解決策**: ハッシュセットでサイクルを検出
- **注意**: サイクルの検出が重要

## 関連問題

- [Power of Two](./power_of_two_logic.md) - べき乗
- [Factorial](./factorial_logic.md) - 階乗

---

**次のステップ**: [Stack/Queueテクニック](../04_stack_queue/README.md)でスタックとキューを学ぶ

